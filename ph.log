/*C12*/SET SCHEMA PUBLIC
alter table book drop constraint FKklnrv3weler2ftkweewlky958
alter table contract drop constraint FKd7hbtbi0g9ovr30xs5lu4h785
alter table contract drop constraint FKjl71t08l1a2xsm1aqt1xuvtss
alter table customer drop constraint FK2cgkyoouki60jm92u2byc6mua
alter table my_ordersbooks_books drop constraint FK62kg3ivpcf3u5o6t7jjx2tph0
alter table my_ordersbooks_books drop constraint FKq98bn7o4nonxf1kkm2k48bo4x
alter table user_login_role drop constraint FKnesv3dq059opj8lqrccx9xqng
alter table user_login_role drop constraint FKdgx2jem45blrlvy7njk5lc9g2
drop table author if exists
drop table book if exists
drop table contract if exists
drop table customer if exists
drop table employer if exists
drop table login_role if exists
drop table my_ordersbooks_books if exists
drop table order_book if exists
drop table user_login if exists
drop table user_login_role if exists
drop sequence seq_login_role
drop sequence seq_user_login
drop sequence seq_user_login_roles
create sequence seq_login_role start with 1 increment by 1
create sequence seq_user_login start with 1 increment by 1
create sequence seq_user_login_roles start with 1 increment by 1
create table author (id bigint generated by default as identity (start with 1), address varchar(255), name varchar(255), phone varchar(255), version integer, primary key (id))
create table book (id bigint generated by default as identity (start with 1), circul integer not null, expenses numeric(19,2), name varchar(255), price numeric(19,2), publication timestamp not null, version integer, author_id bigint, primary key (id))
create table contract (id bigint generated by default as identity (start with 1), salary numeric(19,2), version integer, author_id bigint, employer_id bigint, primary key (id))
create table customer (id bigint generated by default as identity (start with 1), address varchar(255), name varchar(255), phone varchar(255), version integer, order_book_id bigint, primary key (id))
create table employer (id bigint generated by default as identity (start with 1), address varchar(255), birthdate timestamp not null, employee_status integer, name varchar(255), phone varchar(255), version integer, primary key (id))
create table login_role (login_role_id bigint not null, description varchar(50) not null, name varchar(20) not null, version bigint, primary key (login_role_id))
create table my_ordersbooks_books (my_orderbook bigint not null, my_book bigint not null, primary key (my_orderbook, my_book))
create table order_book (id bigint generated by default as identity (start with 1), deliver_date timestamp not null, order_date timestamp not null, version integer, primary key (id))
create table user_login (user_login_id bigint not null, from_date timestamp not null, locked boolean, need_change_password boolean, password varchar(255) not null, thru_date timestamp, username varchar(30) not null, version bigint, primary key (user_login_id))
create table user_login_role (user_login_role_id bigint not null, version bigint, login_role bigint not null, user_login bigint not null, primary key (user_login_role_id))
alter table login_role add constraint UK_fbm2l52abvrgpu4sujd1nnv5w unique (name)
alter table user_login add constraint UK_i7tt0xma046ma8ohj9utt63gw unique (username)
alter table book add constraint FKklnrv3weler2ftkweewlky958 foreign key (author_id) references author
alter table contract add constraint FKd7hbtbi0g9ovr30xs5lu4h785 foreign key (author_id) references author
alter table contract add constraint FKjl71t08l1a2xsm1aqt1xuvtss foreign key (employer_id) references employer
alter table customer add constraint FK2cgkyoouki60jm92u2byc6mua foreign key (order_book_id) references order_book
alter table my_ordersbooks_books add constraint FK62kg3ivpcf3u5o6t7jjx2tph0 foreign key (my_book) references order_book
alter table my_ordersbooks_books add constraint FKq98bn7o4nonxf1kkm2k48bo4x foreign key (my_orderbook) references book
alter table user_login_role add constraint FKnesv3dq059opj8lqrccx9xqng foreign key (login_role) references login_role
alter table user_login_role add constraint FKdgx2jem45blrlvy7njk5lc9g2 foreign key (user_login) references user_login
